!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,n){a[e]=n},n.parcelRequired7c6=r);var c=r("bpxeT"),o=r("2TvXO"),s=document.querySelector(".news-list"),i=document.getElementById("pagination"),u=document.querySelector("button.next-page"),l=document.querySelector("button.prev-page"),d=0,p=7,g={curPage:1,numLinksTwoSide:1,totalPages:10};document.addEventListener("DOMContentLoaded",e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t=e.sent,console.log(t),g.totalPages=Math.ceil(t.results.length/7),m(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),n,null,[[0,9]])}))));var f,v=(f=e(c)(e(o).mark((function n(){var t,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=KAPQs6eCC914vuVn4Z5KoZgqCNfPIWAH");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),n)}))),function(){return f.apply(this,arguments)});function m(e){var n=e.results.slice(d,p).map((function(e){return'<li class="news-card">\n       <p>'.concat(e.abstract,'</p>\n      <a href="').concat(e.url,'">Read more</a>\n      </li>')})).join("");s.innerHTML=n}function b(){for(var e=g.totalPages,n=g.curPage,t=g.numLinksTwoSide,a=t+4,r="",c="",o='<li class="pg-item"><a class="pg-link">...</a></li>',s=0,u=n-t,l=n+t,d="",p=1;p<=e;p++)d=p===n?"active":"",e>=2*a-1?u>3&&l<e-3+1?p>=u&&p<=l&&(c+=h(p,d)):n<a&&p<=a||n>e-a&&p>=e-a+1||p===e||1===p?r+=h(p,d):1===++s&&(r+=o):r+=h(p,d);c?(c=h(1)+o+c+o+h(e),i.innerHTML=c):i.innerHTML=r}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return' <li class="pg-item '.concat(n,'" data-page="').concat(e,'">\n        <a class="pg-link" href="#">').concat(e,"</a>\n    </li>")}function w(){1===g.curPage?l.disabled=!0:l.disabled=!1}function x(){g.curPage===g.totalPages?(console.log(g.curPage),u.disabled=!0):u.disabled=!1}b(),i.addEventListener("click",function(){var n=e(c)(e(o).mark((function n(t){var a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:a=e.sent,console.log(parseInt(t.target.dataset.page,10)),t.target.dataset.page&&(r=parseInt(t.target.dataset.page,10),g.curPage=r,b(),console.log(g),p=(d=7*(r-1))+7,m(a),w(),x()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()),document.querySelector(".page-container").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page")?(g.curPage--,w(),u.disabled=!1):e.classList.contains("next-page")&&(g.curPage++,x(),l.disabled=!1);b()}(e.target)}))}();
//# sourceMappingURL=index.742f2f0a.js.map
