const e=document.querySelector(".news-list"),t=document.getElementById("pagination"),a=document.querySelector("button.next-page"),n=document.querySelector("button.prev-page");let s=0,c=7;const o={curPage:1,numLinksTwoSide:1,totalPages:10};document.addEventListener("DOMContentLoaded",(async()=>{try{const e=await i();console.log(e),o.totalPages=Math.ceil(e.results.length/7),l(e)}catch(e){console.log(e.message)}}));const i=async()=>{const e=await fetch("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=KAPQs6eCC914vuVn4Z5KoZgqCNfPIWAH");return await e.json()};function l(t){const a=t.results.slice(s,c).map((e=>`<li class="news-card">\n       <p>${e.abstract}</p>\n      <a href="${e.url}">Read more</a>\n      </li>`)).join("");e.innerHTML=a}function r(){const{totalPages:e,curPage:a,numLinksTwoSide:n}=o,s=n+4;let c="",i="",l='<li class="pg-item"><a class="pg-link">...</a></li>',r=0;const d=a-n,u=a+n;let p="";for(let t=1;t<=e;t++)p=t===a?"active":"",e>=2*s-1?d>3&&u<e-3+1?t>=d&&t<=u&&(i+=g(t,p)):a<s&&t<=s||a>e-s&&t>=e-s+1||t===e||1===t?c+=g(t,p):(r++,1===r&&(c+=l)):c+=g(t,p);i?(i=g(1)+l+i+l+g(e),t.innerHTML=i):t.innerHTML=c}function g(e,t=""){return` <li class="pg-item ${t}" data-page="${e}">\n        <a class="pg-link" href="#">${e}</a>\n    </li>`}function d(){1===o.curPage?n.disabled=!0:n.disabled=!1}function u(){o.curPage===o.totalPages?(console.log(o.curPage),a.disabled=!0):a.disabled=!1}r(),t.addEventListener("click",(async e=>{try{const t=await i();if(console.log(parseInt(e.target.dataset.page,10)),e.target.dataset.page){const a=parseInt(e.target.dataset.page,10);o.curPage=a,r(),console.log(o),s=7*(a-1),c=s+7,l(t),d(),u()}}catch(e){console.log(e.message)}})),document.querySelector(".page-container").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page")?(o.curPage--,d(),a.disabled=!1):e.classList.contains("next-page")&&(o.curPage++,u(),n.disabled=!1);r()}(e.target)}));
//# sourceMappingURL=index.23d4e470.js.map
